import{j as s,r as e}from"./react-BZuymhSV.js";import{a as r}from"./axios-XtWrBBVz.js";import{H as t,l as o,s as a}from"./index-BFlvfIOT.js";import{u as i}from"./react-router-dom-BFbt_rfn.js";import"./react-dom-BYiVop1z.js";import"./scheduler-DhxmCZ7v.js";import"./@gsap-7rUOfEg6.js";import"./gsap-BDVyzZVq.js";import"./i18next-BuDUpmuK.js";import"./split-type-CbOXNKxF.js";import"./react-i18next-DjQM30kD.js";import"./react-icons-BdjcCHud.js";import"./swiper-bSAY_IpK.js";import"./react-toastify-BQnkcPH4.js";import"./clsx-BeLtu-UY.js";import"./@remix-run-CmyMgbGZ.js";r.defaults.withCredentials=!0;const n="_orders_1pgsn_1",c="_order-list_1pgsn_11",d="_order_1pgsn_1",l="_header_1pgsn_29",p="_status_1pgsn_41",m="_info_1pgsn_48",j="_return-info_1pgsn_56",x="_order-products_1pgsn_60",h="_title_1pgsn_74",_="_cover_1pgsn_77",g=({products:e})=>{const r=o("Orders")(),t=i();return s.jsx("ul",{className:x,children:e.map((e=>(e=>s.jsxs("li",{onClick:()=>t("/product/"+e.productId),children:[s.jsx("img",{src:e.image,alt:"cover",className:_}),s.jsxs("h2",{className:h,children:[r("title"),": ",e.title]})]},e._id))(e)))})},u=e=>{let r={text:"Unknown",color:"orange"};switch(e.toLowerCase()){case"payment_pending":r={text:"Payment pending",color:"purple"};break;case"completed":r={text:"Completed",color:"green"};break;case"returned":r={text:"Returned",color:"red"}}return s.jsx("span",{className:p,style:{backgroundColor:r.color},children:r.text})},N=({order:e})=>{const r=o("Orders")(),{_id:t,deliveryMethod:a,paymentMethod:i,status:n,totalAmount:c,products:x,createdAt:h}=e;return s.jsxs("li",{className:d,children:[s.jsxs("div",{className:l,children:[s.jsxs("h3",{children:[r("id"),": ",t]}),s.jsx("p",{className:p,children:u(n)})]}),s.jsx("hr",{}),s.jsxs("div",{className:m,children:[s.jsxs("p",{children:[r("delivery"),": ",a.toUpperCase()]}),s.jsxs("p",{children:[r("payment"),": ",i.toUpperCase()]}),s.jsxs("p",{children:[r("createdDate"),": ",h.split("T")[0]]}),s.jsx(g,{products:x}),s.jsx("p",{children:s.jsxs("strong",{children:[r("total"),": ",c," PLN"]})})]}),s.jsx("hr",{}),s.jsx("p",{className:j,children:r("returnInfo")})]})},f=()=>{const[o,a]=e.useState([]);return e.useEffect((()=>{const s=sessionStorage.getItem("orders");s?a(JSON.parse(s)):(async()=>await r.get(`${t.SHOP}/orders`,{withCredentials:!0,headers:{"Content-Type":"application/json"}}))().then((s=>{const{orders:e}=s.data;e.length&&sessionStorage.setItem("orders",JSON.stringify(e)),a(e)}))}),[]),o.length?s.jsx("div",{className:n,children:s.jsx("ul",{className:c,children:o.map((e=>s.jsx(N,{order:e},e._id)))})}):s.jsx("div",{className:n,children:s.jsx("h1",{children:"No orders"})})},y=()=>s.jsx("div",{className:a.page,children:s.jsx(f,{})});export{y as OrdersPage,y as default};
